<#include "../../navbar.ftl">
<script type="module" src="/scripts/table.js"></script>

<div class="bg-light p-6 rounded-2xl shadow-normalBox mt-8">
    <a class="flex flex-row items-center justify-center gap-2 max-w-[300px] bg-verde px-4 py-2 rounded-full shadow-buttonBox hover:shadow-buttonBoxHover text-xl font-semibold text-white"
       href="/admin/utenti/aggiungi">
        <svg class="w-8 h-8" viewBox="0 0 64 96" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M62.7999 65.6999C60.1999 55.6999 55.4999 43 48.3999 38.2C43.9999 42 38.2999 44.4 31.9999 44.4C25.6999 44.4 19.9999 42.0999 15.5999 38.2999C8.39989 42.9999 3.79989 55.6999 1.19989 65.6999C-0.600108 72.4999 4.59989 79.0999 11.5999 79.0999H12.9999C14.3999 88.3999 22.3999 95.5 32.0999 95.5C41.7999 95.5 49.7999 88.3999 51.1999 79.0999H52.5999C59.4999 79.0999 64.5999 72.4999 62.7999 65.6999ZM31.9999 90.5C24.0999 90.5 17.6999 84.0999 17.6999 76.1999C17.6999 68.2999 24.0999 61.9 31.9999 61.9C39.8999 61.9 46.2999 68.2999 46.2999 76.1999C46.2999 84.0999 39.8999 90.5 31.9999 90.5Z" fill="white"/>
            <path d="M31.9997 38.1C42.3827 38.1 50.7997 29.683 50.7997 19.3C50.7997 8.91705 42.3827 0.5 31.9997 0.5C21.6168 0.5 13.1997 8.91705 13.1997 19.3C13.1997 29.683 21.6168 38.1 31.9997 38.1Z" fill="white"/>
            <path d="M38.7997 73.6999H34.4997V69.3999C34.4997 67.9999 33.3997 66.8999 31.9997 66.8999C30.5997 66.8999 29.4997 67.9999 29.4997 69.3999V73.6999H25.1997C23.7997 73.6999 22.6997 74.7999 22.6997 76.1999C22.6997 77.5999 23.7997 78.6999 25.1997 78.6999H29.4997V82.9999C29.4997 84.3999 30.5997 85.4999 31.9997 85.4999C33.3997 85.4999 34.4997 84.3999 34.4997 82.9999V78.6999H38.7997C40.1997 78.6999 41.2997 77.5999 41.2997 76.1999C41.2997 74.7999 40.1997 73.6999 38.7997 73.6999Z" fill="white"/>
        </svg>
        <div class="">Aggiungi Utente</div>
    </a>

    <h1 class="text-primario text-2xl font-bold mb-4 text-center flex gap-2 items-center justify-center col-span-6">
        <svg class="w-10 h-10 fill-primario" viewBox="0 0 98 89" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M96.5302 33.43C96.9951 33.8096 97.3686 34.2889 97.6231 34.8325C97.8776 35.376 98.0065 35.9699 98.0002 36.57V39.92C98.0002 40.538 97.7547 41.1306 97.3178 41.5676C96.8808 42.0045 96.2882 42.25 95.6702 42.25H61.0002C60.3823 42.25 59.7896 42.0045 59.3527 41.5676C58.9157 41.1306 58.6702 40.538 58.6702 39.92V36.57C58.664 35.9699 58.7929 35.376 59.0473 34.8325C59.3018 34.2889 59.6753 33.8096 60.1402 33.43C63.6763 30.581 67.5083 28.1202 71.5702 26.09C71.5978 26.0876 71.6243 26.078 71.6471 26.0622C71.6699 26.0464 71.6882 26.025 71.7002 26V22.23C71.1759 21.3292 70.8105 20.3448 70.6202 19.32C70.0402 19.14 69.5202 18.2 69.0202 16.46C68.5202 14.72 68.5702 13.84 69.0202 13.31C69.1087 13.2034 69.2184 13.1163 69.3424 13.0544C69.4663 12.9924 69.6018 12.9569 69.7402 12.95C69.6388 12.6222 69.5587 12.2882 69.5002 11.95C69.2047 10.6736 69.2047 9.34647 69.5002 8.07002C69.8758 6.55154 70.665 5.16693 71.7802 4.07002C72.4047 3.40737 73.1103 2.82611 73.8802 2.34002C74.4982 1.91714 75.1711 1.5807 75.8802 1.34002C76.4912 1.13863 77.1274 1.02418 77.7702 1.00002C79.3968 0.827807 81.036 1.17806 82.4502 2.00002C83.358 2.46465 84.1324 3.15298 84.7002 4.00002C85.3776 4.14507 85.9787 4.53272 86.3902 5.09002C87.4702 6.46002 87.7502 8.78002 87.2202 11.98C87.1617 12.3182 87.0816 12.6522 86.9802 12.98C87.1186 12.9869 87.2541 13.0224 87.378 13.0844C87.502 13.1463 87.6117 13.2334 87.7002 13.34C88.1402 13.87 88.1402 14.9 87.7002 16.49C87.2602 18.08 86.7002 19.17 86.1002 19.35C85.8991 20.3527 85.527 21.3134 85.0002 22.19V26C85.0009 26.0294 85.0097 26.0579 85.0256 26.0826C85.0415 26.1073 85.0638 26.1272 85.0902 26.14C89.1534 28.1538 92.9887 30.5978 96.5302 33.43ZM2.33022 42.25H37.0002C37.6182 42.25 38.2108 42.0045 38.6478 41.5676C39.0847 41.1306 39.3302 40.538 39.3302 39.92V36.57C39.3365 35.9699 39.2076 35.376 38.9531 34.8325C38.6986 34.2889 38.3251 33.8096 37.8602 33.43C34.3241 30.581 30.4921 28.1202 26.4302 26.09C26.4026 26.0876 26.3761 26.078 26.3533 26.0622C26.3305 26.0464 26.3122 26.025 26.3002 26V22.19C26.8241 21.2997 27.1895 20.3253 27.3802 19.31C27.9602 19.13 28.4802 18.19 28.9802 16.45C29.4802 14.71 29.4302 13.83 28.9802 13.3C28.8917 13.1934 28.782 13.1063 28.658 13.0444C28.5341 12.9824 28.3986 12.9469 28.2602 12.94C28.3617 12.6122 28.4419 12.2782 28.5002 11.94C29.0302 8.74002 28.7602 6.42002 27.6802 5.05002C27.2638 4.51038 26.6678 4.13786 26.0002 4.00002C25.4402 3.13097 24.6652 2.42137 23.7502 1.94002C22.336 1.11806 20.6968 0.767807 19.0702 0.94002C18.4298 0.97157 17.797 1.09275 17.1902 1.30002C16.4811 1.5407 15.8082 1.87714 15.1902 2.30002C14.3852 2.79848 13.6489 3.40027 13.0002 4.09002C11.8855 5.18725 11.0963 6.57174 10.7202 8.09002C10.425 9.36651 10.425 10.6935 10.7202 11.97C10.7787 12.3082 10.8589 12.6422 10.9602 12.97C10.8218 12.9769 10.6863 13.0124 10.5624 13.0744C10.4384 13.1363 10.3287 13.2234 10.2402 13.33C9.80022 13.86 9.80022 14.89 10.2402 16.48C10.6802 18.07 11.2402 19.16 11.8402 19.34C12.0576 20.363 12.45 21.3407 13.0002 22.23V26C12.9995 26.0294 12.9907 26.0579 12.9749 26.0826C12.959 26.1073 12.9366 26.1272 12.9102 26.14C8.8471 28.1538 5.01182 30.5978 1.47022 33.43C1.00532 33.8096 0.6318 34.2889 0.377333 34.8325C0.122866 35.376 -0.00602292 35.9699 0.000216169 36.57V39.92C0.000216169 40.538 0.245698 41.1306 0.682657 41.5676C1.11962 42.0045 1.71226 42.25 2.33022 42.25ZM56.7402 66.15C57.3202 65.97 57.8402 65.03 58.3402 63.29C58.8402 61.55 58.7902 60.67 58.3402 60.14C58.2517 60.0334 58.142 59.9463 58.018 59.8844C57.8941 59.8224 57.7586 59.7869 57.6202 59.78C57.7216 59.4522 57.8017 59.1182 57.8602 58.78C58.3902 55.58 58.1202 53.26 57.0302 51.89C56.6187 51.3327 56.0176 50.9451 55.3402 50.8C54.7802 49.931 54.0052 49.2214 53.0902 48.74C51.676 47.9181 50.0368 47.5678 48.4102 47.74C47.7698 47.7713 47.1369 47.8925 46.5302 48.1C45.8211 48.3406 45.1482 48.677 44.5302 49.1C43.7605 49.5865 43.055 50.1677 42.4302 50.83C41.315 51.9269 40.5258 53.3115 40.1502 54.83C39.855 56.1065 39.855 57.4335 40.1502 58.71C40.2087 59.0482 40.2889 59.3822 40.3902 59.71C40.2518 59.7169 40.1163 59.7524 39.9924 59.8144C39.8684 59.8763 39.7587 59.9634 39.6702 60.07C39.2302 60.6 39.2302 61.63 39.6702 63.22C40.1102 64.81 40.6702 65.9 41.2702 66.08C41.4607 67.1048 41.826 68.0891 42.3502 68.99V72.71C42.3495 72.7394 42.3407 72.768 42.3249 72.7926C42.309 72.8173 42.2866 72.8372 42.2602 72.85C38.1985 74.8805 34.3665 77.3413 30.8302 80.19C30.3653 80.5696 29.9918 81.0489 29.7373 81.5925C29.4829 82.136 29.354 82.7299 29.3602 83.33V86.68C29.3602 87.298 29.6057 87.8906 30.0427 88.3276C30.4796 88.7645 31.0723 89.01 31.6902 89.01H66.3202C66.9382 89.01 67.5308 88.7645 67.9678 88.3276C68.4047 87.8906 68.6502 87.298 68.6502 86.68V83.4C68.6565 82.7999 68.5276 82.206 68.2731 81.6625C68.0186 81.1189 67.6451 80.6396 67.1802 80.26C63.6441 77.4111 59.8121 74.9503 55.7502 72.92C55.7238 72.9072 55.7015 72.8873 55.6856 72.8626C55.6697 72.838 55.6609 72.8094 55.6602 72.78V69C56.1809 68.1189 56.5462 67.1549 56.7402 66.15ZM26.4102 69.78H26.5802C27.2971 69.751 27.9901 69.5142 28.5748 69.0985C29.1595 68.6827 29.6108 68.1059 29.8736 67.4383C30.1364 66.7707 30.1994 66.0411 30.055 65.3383C29.9106 64.6355 29.565 63.9899 29.0602 63.48C26.0987 60.4366 23.866 56.761 22.5302 52.73C22.2882 51.9832 21.8167 51.3318 21.1829 50.8686C20.5491 50.4053 19.7853 50.1539 19.0002 50.15C18.7585 50.1496 18.5173 50.173 18.2802 50.22C17.7629 50.3237 17.2735 50.536 16.8442 50.8428C16.415 51.1497 16.0558 51.5441 15.7902 52C15.5338 52.4384 15.3727 52.926 15.3176 53.4309C15.2624 53.9358 15.3144 54.4466 15.4702 54.93C17.1655 60.0997 20.0258 64.8108 23.8302 68.7C24.1675 69.0417 24.5692 69.3131 25.012 69.4985C25.4549 69.6839 25.9301 69.7796 26.4102 69.78ZM79.7302 50.22C79.4931 50.1732 79.2519 50.1498 79.0102 50.15C78.2251 50.1526 77.4606 50.4022 76.8253 50.8635C76.1899 51.3247 75.7158 51.9743 75.4702 52.72C74.1341 56.7509 71.9015 60.4263 68.9402 63.47C68.4355 63.9799 68.0898 64.6255 67.9454 65.3283C67.801 66.0311 67.8641 66.7607 68.1269 67.4283C68.3897 68.0959 68.8409 68.6727 69.4256 69.0885C70.0103 69.5042 70.7033 69.741 71.4202 69.77H71.5902C72.0703 69.7696 72.5455 69.6739 72.9884 69.4885C73.4313 69.3031 73.833 69.0317 74.1702 68.69C77.9731 64.8035 80.8332 60.096 82.5302 54.93C82.686 54.4466 82.738 53.9358 82.6829 53.4309C82.6277 52.926 82.4667 52.4384 82.2102 52C81.9453 51.5456 81.5874 51.1522 81.1601 50.8455C80.7327 50.5388 80.2455 50.3256 79.7302 50.22ZM42.7302 16.87C46.8573 15.9295 51.1431 15.9295 55.2702 16.87C56.1502 17.0704 57.0732 16.9394 57.8627 16.5022C58.6523 16.065 59.253 15.3522 59.5502 14.5C59.7199 14.0102 59.7853 13.4902 59.7422 12.9736C59.6992 12.457 59.5486 11.955 59.3002 11.5C59.0517 11.0471 58.7103 10.6517 58.2985 10.3398C57.8866 10.0279 57.4135 9.8065 56.9102 9.69002C51.7001 8.50471 46.2903 8.50471 41.0802 9.69002C40.5787 9.80778 40.1076 10.0298 39.6975 10.3416C39.2875 10.6535 38.9477 11.0482 38.7002 11.5C38.3605 12.1201 38.2055 12.8245 38.2537 13.5299C38.3018 14.2353 38.5511 14.9121 38.9719 15.4802C39.3928 16.0484 39.9676 16.484 40.6283 16.7357C41.2891 16.9873 42.0081 17.0443 42.7002 16.9L42.7302 16.87Z" fill="#3E53A0"/>
        </svg>
        Utenti nel Sistema
    </h1>

    <p class="text-bluScuro text-sm text-right w-full mb-2">• Per i dettagli selezionare un rigo</p>
    <div class="flex flex-row items-center gap-2 mb-4">
        <svg class="w-8 h-8" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M33.3104 30.7042L42.4603 39.8541C43.1799 40.5737 43.1799 41.7407 42.4603 42.4603C41.7407 43.1799 40.5737 43.1799 39.8542 42.4603L30.7042 33.3103C23.2377 39.444 12.3338 38.9026 5.50183 32.0709C-1.83394 24.7333 -1.83394 12.8395 5.50183 5.50186C12.8394 -1.83395 24.735 -1.83395 32.0707 5.50186C38.9027 12.3339 39.4438 23.2376 33.3104 30.7042ZM18.7873 10.4842C23.3738 10.4842 27.0904 14.2007 27.0904 18.7873C27.0904 19.8039 27.9161 20.6296 28.9327 20.6296C29.9511 20.6296 30.775 19.8039 30.775 18.7873C30.775 12.1657 25.4073 6.79978 18.7876 6.79978C17.7709 6.79978 16.9453 7.62547 16.9453 8.64213C16.9453 9.66055 17.7707 10.4842 18.7873 10.4842ZM29.4667 8.10788C23.5703 2.21145 14.0066 2.21145 8.10979 8.10788C2.21338 14.0043 2.21338 23.568 8.10979 29.4649C14.008 35.3613 23.5698 35.3613 29.4667 29.4649C35.3631 23.5666 35.3631 14.0048 29.4667 8.10788Z"
                  fill="#323954"/>
        </svg>
        <input type="text" id="searchInput" placeholder="Cerca per Nome, Cognome, Email o Ruolo"
               class="search-bar rounded-xl border"/>
    </div>
    <div class="border border-primario rounded-2xl">
    <table class="user-list-table rounded-2xl" id="userTable">
        <thead>
        <tr class="bg-trTable ">
            <th>ID</th>
            <th>Nome</th>
            <th>Cognome</th>
            <th>Email</th>
            <th>Ruolo</th>
            <th>Azioni</th>
        </tr>
        </thead>
        <tbody>
        <#list utenti as utente>
            <tr>
                <td class="index-column"></td> <!-- Lasciamo vuoto, sarà popolato dal JS -->
                <td>${utente.nome}</td>
                <td>${utente.cognome}</td>
                <td>${utente.email}</td>
                <td>${utente.ruolo}</td>
                <td class="">
                    <form method="GET" action="/admin/utenti/modifica" class="flex justify-center ">
                        <input type="hidden" name="action" value="modifica">
                        <input type="hidden" name="id" value="${utente.id}">
                        <button type="submit" class=" font-semibold bg-TgialloChiaro hover:bg-yellow-300 px-4 py-1 rounded-full shadow-buttonBox hover:shadow-buttonBoxHover">Modifica</button>
                    </form>
                </td>
            </tr>
        </#list>
        </tbody>
    </table>
    </div>
</div>
